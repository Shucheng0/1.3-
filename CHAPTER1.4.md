### 1.4 复杂度分析（下）：浅析最好、最坏、平均、均摊时间复杂度

为什么会引入如上这 4 个概念呢？

> * **“同一段代码，在不同输入的情况下，复杂度量级可能发生变化”**

例如，如下程序：
```javascript
var find = function(array, n, x) {
    let pos = -1;
    for (let i=0; i<n; i++) {
        if (arrray[i] == x) {
            pos = 1;
            break;
        }
    }
    return pos;
}
```
如上程序：
* 最好时间复杂度：O(1)  若 array[0]=x 
* 最坏时间复杂度：O(n)  若数组 array 中没有元素值为 x 
* 平均时间复杂度：O(n) 
    * 分析过程：变量 x 在数组中的概率，具体要根据实际统计，此处假设为 1/2 。查找数据出现在 0~n-1 n 个位置的概率是一样的，为 1/n 。所以，0~n-1 中任意位置的概率为 1/(2n)
    * 具体的计算过程如下：![](https://static001.geekbang.org/resource/image/36/7f/36c0aabdac69032f8a43368f5e90c67f.jpg)
* 均摊时间复杂度：O(n) 时间复杂度较高、较低的输入不具有前后连贯的时序关系，且耗时多的输入占有大多数。

概念：
* 最坏时间复杂度：输入最理想的情况下程序的时间复杂度
* 最优时间复杂度：输入最不理想的情况下程序的时间复杂度
* 平均时间复杂度：每种输入出现的概率乘以该输入对应的时间复杂度，求和
* 均摊时间复杂度：在一组连续的操作中，大部分时间复杂度很低，个别情况时间复杂度较高，且这些操作具有前后连贯的时序关系。则把耗时多的操作均摊到耗时少的操作上

平均时间复杂度的定义中，“操作具有前后连贯的时序关系”，不难发现均摊时间复杂度是一种特殊的时间复杂度。